{"ast":null,"code":"// Basic API Route\n//this allows us to connect to our db\nimport { MongoClient } from \"mongodb\"; //POST /api/new-meetup\n\nasync function handler(req, res) {\n  if (req.method === \"POST\") {\n    const data = req.body;\n    const client = await MongoClient.connect(`mongodb+srv://12345:12345@cluster0.dizvn9k.mongodb.net/meetups?retryWrites=true&w=majority`);\n    const db = client.db(); //nosql collections are kind of like sql tables but are documents with JSON data\n\n    const meetupsCollection = db.collection(\"meetups\"); //inserts a single document into MongoDb\n\n    const result = await meetupsCollection.insertOne(data);\n    console.log(result); //closes the db's underlying connections\n\n    client.close(); //status args are a 201 http success code and an object with a message key with a success message for db connection \n\n    res.status(201).json({\n      message: 'Meetup Inserted!'\n    });\n  }\n}\n\nexport default handler;","map":null,"metadata":{},"sourceType":"module"}